<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SPONSORACB | APP BOT</title>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Vazirmatn Font -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/misc/Farsi-Digits/font-face.css" rel="stylesheet" type="text/css" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Vazirmatn', 'sans-serif'],
                        mono: ['Courier New', 'monospace'],
                    },
                    animation: {
                        'scan': 'scan 2s linear infinite',
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 3s ease-in-out infinite',
                    },
                    keyframes: {
                        scan: {
                            '0%': { transform: 'translateY(-100%)' },
                            '100%': { transform: 'translateY(100%)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' },
                        }
                    },
                    perspective: {
                        '1000': '1000px',
                    }
                }
            }
        }
    </script>

    <style>
        body { 
            background-color: #000; 
            color: white; 
            overflow: hidden; 
            -webkit-tap-highlight-color: transparent;
        }

        /* 3D Card Styles */
        .card-container {
            perspective: 1000px;
        }
        
        .card-3d {
            transition: transform 0.1s ease-out;
            transform-style: preserve-3d;
            background: linear-gradient(145deg, #111, #050505);
            box-shadow: 
                0 10px 30px -10px rgba(0,0,0,0.8),
                inset 0 1px 0 rgba(255,255,255,0.1);
        }

        .card-content {
            transform: translateZ(20px); /* Pop out effect */
        }

        .card-icon {
            transform: translateZ(30px); /* More pop */
        }

        /* Loading Screen Glitch */
        .glitch-text {
            position: relative;
        }
        .glitch-text::before, .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .glitch-text::before {
            left: 2px;
            text-shadow: -1px 0 #ff0000;
            clip: rect(24px, 550px, 90px, 0);
            animation: glitch-anim-2 3s infinite linear alternate-reverse;
        }
        .glitch-text::after {
            left: -2px;
            text-shadow: -1px 0 #00ffff;
            clip: rect(85px, 550px, 140px, 0);
            animation: glitch-anim 2.5s infinite linear alternate-reverse;
        }

        @keyframes glitch-anim {
            0% { clip: rect(10px, 9999px, 30px, 0); }
            20% { clip: rect(50px, 9999px, 80px, 0); }
            40% { clip: rect(20px, 9999px, 60px, 0); }
            60% { clip: rect(90px, 9999px, 100px, 0); }
            80% { clip: rect(30px, 9999px, 50px, 0); }
            100% { clip: rect(70px, 9999px, 90px, 0); }
        }
        @keyframes glitch-anim-2 {
            0% { clip: rect(60px, 9999px, 80px, 0); }
            20% { clip: rect(10px, 9999px, 40px, 0); }
            40% { clip: rect(80px, 9999px, 120px, 0); }
            60% { clip: rect(20px, 9999px, 50px, 0); }
            80% { clip: rect(90px, 9999px, 100px, 0); }
            100% { clip: rect(30px, 9999px, 60px, 0); }
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONS ---
        // Corrected: All multi-element SVGs are wrapped in fragments <></>
        const Icons = {
            Backpack: <><path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 2H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"/><path d="M2 10h20"/></>,
            Wrench: <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>,
            Bomb: <><circle cx="11" cy="13" r="9"/><path d="M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95"/><path d="m22 2-1.5 1.5"/></>,
            User: <><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></>,
            Palette: <><circle cx="13.5" cy="6.5" r=".5"/><circle cx="17.5" cy="10.5" r=".5"/><circle cx="8.5" cy="7.5" r=".5"/><circle cx="6.5" cy="12.5" r=".5"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/></>,
            Shield: <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>,
            Wifi: <><path d="M5 12.55a11 11 0 0 1 14.08 0"/><path d="M1.42 9a16 16 0 0 1 21.16 0"/><path d="M8.53 16.11a6 6 0 0 1 6.95 0"/><line x1="12" y1="20" x2="12.01" y2="20"/></>,
            FileText: <><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></>,
            Ticket: <><rect x="2" y="6" width="20" height="12" rx="2"/><path d="M6 12h.01"/><path d="M18 12h.01"/></>,
            Hash: <><line x1="4" y1="9" x2="20" y2="9"/><line x1="4" y1="15" x2="20" y2="15"/><line x1="10" y1="3" x2="8" y2="21"/><line x1="16" y1="3" x2="14" y2="21"/></>,
            UserPlus: <><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></>,
            Sticker: <><path d="M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z"/><path d="M15 3v6h6"/></>,
            Phone: <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>,
            List: <><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></>,
            Download: <><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></>,
            Key: <path d="m21 2-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0 3 3L22 7l-3-3m-3.5 3.5L19 4"/>,
            Terminal: <><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></>,
            Globe: <><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></>,
            Smartphone: <><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></>,
            Bot: <><rect x="3" y="11" width="18" height="10" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" y1="16" x2="8" y2="16"/><line x1="16" y1="16" x2="16" y2="16"/></>,
            Zap: <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>,
            Crosshair: <><circle cx="12" cy="12" r="10"/><line x1="22" y1="12" x2="18" y2="12"/><line x1="6" y1="12" x2="2" y2="12"/><line x1="12" y1="6" x2="12" y2="2"/><line x1="12" y1="22" x2="12" y2="18"/></>,
            PhoneCall: <path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>,
            Sparkles: <><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 3v4"/><path d="M7 5h4"/><path d="M3 7h4"/></>,
            Crown: <path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/>,
            Bell: <><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></>,
            CreditCard: <><rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" x2="22" y1="10" y2="10"/></>,
            LogOut: <><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></>,
            Gem: <><path d="M6 3h12l4 6-10 13L2 9Z"/><path d="M11 3 8 9l4 13 4-13-3-6"/><path d="M2 9h20"/></>,
            ChevronLeft: <polyline points="15 18 9 12 15 6"/>,
            ShoppingBag: <><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></>,
            Trophy: <><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17"/><path d="M14 14.66V17"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/><path d="M8.5 22l1-5h5l1 5"/></>,
            TrendingUp: <><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></>,
            Share2: <><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/></>,
            RefreshCw: <><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></>,
            ArrowRightLeft: <><path d="m16 3 4 4-4 4"/><path d="M20 7H4"/><path d="m8 21-4-4 4-4"/><path d="M4 17h16"/></>,
            Lock: <><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></>,
            LayoutGrid: <><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></>
        };

        const Icon = ({ name, size = 20, className }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {Icons[name] || Icons.Backpack}
            </svg>
        );

        // --- MENU DATA ---
        const MENU_DATA = {
            backpack: [
                { id: 1, title: 'تم تلگرام', icon: 'Palette' },
                { id: 2, title: 'پروکسی', icon: 'Shield' },
                { id: 3, title: 'کانفیگ', icon: 'Wifi' },
                { id: 4, title: 'متن آماده', icon: 'FileText' },
                { id: 5, title: 'ردیم کد', icon: 'Ticket' },
                { id: 6, title: 'شماره ساز', icon: 'Hash' },
                { id: 7, title: 'یوزر ساز', icon: 'UserPlus' },
                { id: 8, title: 'استیکرساز', icon: 'Sticker' },
            ],
            toolbox: [
                { id: 1, title: 'شماره مجازی', icon: 'Phone' },
                { id: 2, title: 'وایت لیست', icon: 'List' },
                { id: 3, title: 'ابزار دانلودر', icon: 'Download' },
                { id: 4, title: 'پسورد ساز', icon: 'Key' },
                { id: 5, title: 'کدترموکس', icon: 'Terminal' },
                { id: 6, title: 'وب نایاب', icon: 'Globe' },
                { id: 7, title: 'او ترکیبی', icon: 'Smartphone' },
                { id: 8, title: 'بات ساز', icon: 'Bot' },
                { id: 9, title: 'دامنه نامحدود', icon: 'Globe' },
            ],
            bomber: [
                { id: 1, title: 'بمبر رایگان', icon: 'Zap' },
                { id: 2, title: 'فول بمبر', icon: 'Bomb' },
                { id: 3, title: 'بمبر ویژه', icon: 'Crosshair' },
                { id: 4, title: 'کال بمبر', icon: 'PhoneCall' },
            ],
            shop: [
                { id: 1, title: 'خرید سکه', icon: 'Gem' },
                { id: 2, title: 'اشتراک ویژه', icon: 'Crown' },
                { id: 3, title: 'ابزار پریمیوم', icon: 'Tool' },
                { id: 4, title: 'فروش شماره', icon: 'Phone' },
            ]
        };

        function App() {
            const [loading, setLoading] = useState(true);
            const [activeTab, setActiveTab] = useState('backpack');
            const [user, setUser] = useState({ name: 'USER', id: '---', balance: '0', level: 12, xp: 65 });

            useEffect(() => {
                setTimeout(() => setLoading(false), 5000); // Intro Time

                if (window.Telegram && window.Telegram.WebApp) {
                    const tg = window.Telegram.WebApp;
                    tg.ready();
                    tg.expand();
                    tg.setHeaderColor('#000000');
                    const u = tg.initDataUnsafe?.user;
                    if(u) setUser({ name: u.first_name, id: u.id, balance: '۵,۴۲۰,۰۰۰', level: 15, xp: 80 });
                }
            }, []);

            return (
                <div className="relative w-full h-screen font-sans">
                    
                    {/* Noir Background */}
                    <div className="fixed inset-0 z-0 bg-black">
                        <div className="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10"></div>
                        <div className="absolute top-0 right-0 w-full h-full bg-gradient-to-b from-transparent to-black opacity-90"></div>
                    </div>

                    {loading ? <ProLoader /> : (
                        <>
                            <Header user={user} />
                            
                            <main className="relative z-10 w-full h-full overflow-y-auto pt-24 pb-32 px-5 no-scrollbar perspective-container">
                                {activeTab === 'profile' ? <ProfileSection user={user} /> : (
                                    <div className="animate-fade-in space-y-6">
                                        <div className="flex items-center gap-3 px-1 border-r-2 border-white pr-3">
                                            <h2 className="text-2xl font-black text-white tracking-tight">
                                                {activeTab === 'backpack' && 'کولـه پشـتی'}
                                                {activeTab === 'toolbox' && 'جعـبه ابـزار'}
                                                {activeTab === 'bomber' && 'آی‌بمـبـر'}
                                                {activeTab === 'shop' && 'فروشـگاه'}
                                            </h2>
                                        </div>

                                        <div className="grid grid-cols-2 gap-5 pb-4">
                                            {MENU_DATA[activeTab]?.map((item, idx) => (
                                                <TiltCard key={item.id} item={item} idx={idx} />
                                            ))}
                                        </div>
                                    </div>
                                )}
                            </main>

                            <Dock active={activeTab} set={setActiveTab} />
                        </>
                    )}
                </div>
            );
        }

        // --- PRO LOADING SCREEN ---
        const ProLoader = () => {
            const [text, setText] = useState("INITIALIZING");
            const [progress, setProgress] = useState(0);

            useEffect(() => {
                const interval = setInterval(() => {
                    setProgress(old => {
                        if (old >= 100) {
                            clearInterval(interval);
                            return 100;
                        }
                        return old + 1;
                    });
                }, 40);

                // Scramble Text Effect
                const texts = ["LOADING MODULES", "VERIFYING SECURITY", "DECRYPTING ASSETS", "SYSTEM READY"];
                let i = 0;
                const textInterval = setInterval(() => {
                    if (i < texts.length) setText(texts[i++]);
                }, 1000);

                return () => { clearInterval(interval); clearInterval(textInterval); };
            }, []);

            return (
                <div className="fixed inset-0 z-50 bg-black flex flex-col items-center justify-center">
                    {/* Tech Circle */}
                    <div className="relative w-40 h-40 mb-8 flex items-center justify-center">
                        <div className="absolute inset-0 border-2 border-white/10 rounded-full"></div>
                        <div className="absolute inset-0 border-t-2 border-white rounded-full animate-spin"></div>
                        <div className="absolute inset-4 border-b-2 border-white/50 rounded-full animate-spin" style={{animationDirection: 'reverse', animationDuration: '3s'}}></div>
                        <div className="font-mono text-2xl font-bold tracking-widest">{progress}%</div>
                    </div>

                    <div className="glitch-text font-mono text-sm tracking-[0.3em] uppercase" data-text={text}>
                        {text}
                    </div>
                    
                    <div className="w-64 h-0.5 bg-gray-900 mt-6 rounded-full overflow-hidden">
                        <div className="h-full bg-white transition-all duration-75 ease-out" style={{ width: `${progress}%` }}></div>
                    </div>
                </div>
            );
        };

        // --- 3D TILT CARD ---
        const TiltCard = ({ item, idx }) => {
            const cardRef = useRef(null);

            const handleMove = (e) => {
                const card = cardRef.current;
                const { left, top, width, height } = card.getBoundingClientRect();
                const x = e.clientX || e.touches?.[0].clientX;
                const y = e.clientY || e.touches?.[0].clientY;
                
                const centerX = left + width / 2;
                const centerY = top + height / 2;
                
                // Rotation logic (limited for subtle effect)
                const rotateX = ((y - centerY) / height) * -20; 
                const rotateY = ((x - centerX) / width) * 20;

                card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`;
            };

            const handleReset = () => {
                if(cardRef.current) cardRef.current.style.transform = `rotateX(0) rotateY(0) scale(1)`;
            };

            return (
                <div className="card-container h-36">
                    <div 
                        ref={cardRef}
                        className="card-3d w-full h-full rounded-2xl p-4 relative flex flex-col justify-between overflow-hidden group cursor-pointer"
                        onMouseMove={handleMove}
                        onMouseLeave={handleReset}
                        onTouchMove={handleMove}
                        onTouchEnd={handleReset}
                        style={{ animation: `fadeIn 0.5s ease-out ${idx * 0.1}s backwards` }}
                    >
                        {/* Shine Effect */}
                        <div className="absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                        
                        <div className="card-icon flex justify-between items-start">
                            <div className="w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center text-white border border-white/5">
                                <Icon name={item.icon} size={20} />
                            </div>
                            <div className="w-2 h-2 rounded-full bg-white/20"></div>
                        </div>
                        
                        <div className="card-content">
                            <h3 className="font-bold text-sm text-white tracking-wide">{item.title}</h3>
                            <div className="h-0.5 w-4 bg-white/30 mt-2"></div>
                        </div>
                    </div>
                </div>
            );
        };

        const Header = ({ user }) => (
            <header className="fixed top-0 left-0 right-0 z-40 px-6 pt-6 pb-2 bg-gradient-to-b from-black via-black/90 to-transparent">
                <div className="flex justify-between items-center border-b border-white/10 pb-4">
                    <div className="flex items-center gap-4">
                        <div className="w-12 h-12 bg-[#111] rounded-full border border-white/20 flex items-center justify-center relative">
                            <span className="font-bold text-lg text-white">{user.name.charAt(0)}</span>
                            <div className="absolute bottom-0 right-0 w-3 h-3 bg-white rounded-full border-2 border-black"></div>
                        </div>
                        <div>
                            <div className="font-bold text-white">{user.name}</div>
                            <div className="flex items-center gap-2 mt-0.5">
                                <div className="text-xs text-gray-500 font-mono">Lvl {user.level}</div>
                                <div className="w-16 h-1.5 bg-gray-800 rounded-full overflow-hidden">
                                    <div className="h-full bg-white" style={{width: `${user.xp}%`}}></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div className="p-2 border border-white/10 rounded-lg bg-white/5">
                        <Icon name="Bell" size={20} className="text-gray-300" />
                    </div>
                </div>
            </header>
        );

        const Dock = ({ active, set }) => {
            const items = [
                { id: 'backpack', icon: 'Backpack' },
                { id: 'toolbox', icon: 'Wrench' },
                { id: 'shop', icon: 'ShoppingBag' },
                { id: 'bomber', icon: 'Bomb' },
                { id: 'profile', icon: 'User' },
            ];

            return (
                <div className="fixed bottom-8 left-0 right-0 z-50 flex justify-center px-4">
                    <div className="glass-panel rounded-full px-6 py-4 flex items-center gap-6 shadow-2xl bg-black/80 border border-white/10 overflow-x-auto">
                        {items.map(tab => {
                            const isActive = active === tab.id;
                            return (
                                <button key={tab.id} onClick={() => set(tab.id)} 
                                    className={`relative flex flex-col items-center justify-center transition-all duration-300 ${isActive ? '-translate-y-2 scale-110' : 'opacity-50'}`}>
                                    <div className={`p-2 rounded-full ${isActive ? 'bg-white text-black shadow-[0_0_15px_white]' : 'text-white'}`}>
                                        <Icon name={tab.icon} size={22} />
                                    </div>
                                    {isActive && <div className="absolute -bottom-4 w-1 h-1 bg-white rounded-full"></div>}
                                </button>
                            )
                        })}
                    </div>
                </div>
            );
        };

        const ProfileSection = ({ user }) => (
            <div className="space-y-6 animate-fade-in-up">
                {/* 3D Profile Card */}
                <div className="card-container h-56">
                    <div className="card-3d w-full h-full rounded-2xl p-6 flex flex-col justify-between relative overflow-hidden border border-white/10">
                        <div className="absolute -right-10 -top-10 w-40 h-40 bg-white/5 rounded-full blur-[50px]"></div>
                        
                        <div className="card-icon flex justify-between items-start">
                            <div className="border border-white/20 px-3 py-1 rounded-full bg-white/5 backdrop-blur-md flex items-center gap-2">
                                <span className="text-[10px] font-bold text-white tracking-wider">MEMBER</span>
                            </div>
                            <Icon name="Sparkles" className="text-white animate-pulse" />
                        </div>

                        <div className="card-content text-center">
                            <span className="text-xs text-gray-500 font-medium uppercase tracking-[0.2em] mb-1 block">موجودی</span>
                            <div className="text-4xl font-black text-white tracking-tighter dir-ltr">
                                {user.balance} <span className="text-lg text-gray-400">T</span>
                            </div>
                        </div>

                        <div className="card-icon flex justify-between items-end border-t border-white/10 pt-4">
                            <div>
                                <div className="font-bold text-sm text-white tracking-wide">{user.name}</div>
                                <div className="text-[10px] text-gray-500 font-mono mt-0.5">{user.id}</div>
                            </div>
                            <Icon name="CreditCard" size={20} className="text-white/50" />
                        </div>
                    </div>
                </div>

                {/* Quick Actions */}
                <div className="grid grid-cols-4 gap-3">
                    <ActionButton icon="Download" label="واریز" />
                    <ActionButton icon="ArrowRightLeft" label="انتقال" />
                    <ActionButton icon="RefreshCw" label="تبدیل" />
                    <ActionButton icon="Bot" label="پشتیبانی" />
                </div>

                {/* Achievements Scroller */}
                <div className="space-y-2">
                    <h3 className="text-sm font-bold text-white pr-2">دستاوردها</h3>
                    <div className="flex gap-3 overflow-x-auto pb-2 no-scrollbar">
                        <Badge icon="Trophy" label="قهرمان" color="bg-yellow-500/20 text-yellow-500" />
                        <Badge icon="Zap" label="سریع" color="bg-blue-500/20 text-blue-500" />
                        <Badge icon="Shield" label="امن" color="bg-green-500/20 text-green-500" />
                        <Badge icon="Gem" label="ثروتمند" color="bg-purple-500/20 text-purple-500" />
                    </div>
                </div>

                {/* Settings List */}
                <div className="grid grid-cols-1 gap-3">
                    <ProfileRow label="تاریخچه تراکنش‌ها" icon="List" />
                    <ProfileRow label="دعوت از دوستان" icon="Share2" />
                    <ProfileRow label="تنظیمات" icon="Settings" />
                    <ProfileRow label="خروج" icon="LogOut" color="text-red-500" />
                </div>
            </div>
        );

        const ActionButton = ({ icon, label }) => (
            <button className="flex flex-col items-center justify-center p-3 rounded-xl bg-[#111] border border-white/5 hover:bg-white/10 transition-colors gap-2">
                <div className="text-white"><Icon name={icon} size={20} /></div>
                <span className="text-[10px] text-gray-400">{label}</span>
            </button>
        );

        const Badge = ({ icon, label, color }) => (
            <div className={`flex flex-col items-center justify-center min-w-[80px] p-3 rounded-xl border border-white/5 ${color}`}>
                <Icon name={icon} size={20} />
                <span className="text-[10px] font-bold mt-1">{label}</span>
            </div>
        );

        const ProfileRow = ({ label, icon, color = "text-gray-300" }) => (
            <button className="w-full flex items-center justify-between p-4 bg-[#111] border border-white/5 rounded-xl hover:bg-white/5 transition-colors group">
                <div className="flex items-center gap-3">
                    <div className="text-gray-500 group-hover:text-white transition-colors"><Icon name={icon} size={18} /></div>
                    <span className={`text-sm font-medium ${color}`}>{label}</span>
                </div>
                <Icon name="ChevronLeft" size={16} className="text-gray-600 rotate-180" />
            </button>
        );

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
